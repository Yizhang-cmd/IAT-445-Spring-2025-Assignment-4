using UnityEngine;
using Oculus;

public class VelociraptorAnimatorSwitcher : MonoBehaviour
{
    private Animator animator;

    // Assign these in the Unity Inspector
    public RuntimeAnimatorController DemoAnimatorWalk;  // Idle (Walking)
    public RuntimeAnimatorController DemoAnimatorA;     // Roar
    public RuntimeAnimatorController DemoAnimatorRun;   // Run
    public RuntimeAnimatorController DemoAnimatorD;     // Attack
    public RuntimeAnimatorController DemoAnimatorB;     // Death

    void Start()
    {
        animator = GetComponent<Animator>(); // Get the Animator component

        // Start with Idle (Walking) animation
        if (DemoAnimatorWalk != null)
        {
            animator.runtimeAnimatorController = DemoAnimatorWalk;
        }
        else
        {
            Debug.LogWarning("DemoAnimatorWalk is not assigned in the Inspector!");
        }
    }

    void Update()
    {
        // **Quest 2 VR Controls**
        if (OVRInput.GetDown(OVRInput.Button.One)) // A Button (Right Hand)
            ChangeAnimator(DemoAnimatorWalk, "DemoAnimatorWalk");

        if (OVRInput.GetDown(OVRInput.Button.Two)) // B Button (Right Hand)
            ChangeAnimator(DemoAnimatorA, "DemoAnimatorA");

        if (OVRInput.GetDown(OVRInput.Button.PrimaryThumbstick)) // Left Thumbstick Press
            ChangeAnimator(DemoAnimatorRun, "DemoAnimatorRun");

        if (OVRInput.GetDown(OVRInput.Button.PrimaryHandTrigger)) // Grip (Hand Trigger)
            ChangeAnimator(DemoAnimatorD, "DemoAnimatorD");

        if (OVRInput.GetDown(OVRInput.Button.PrimaryIndexTrigger)) // Index Trigger
            ChangeAnimator(DemoAnimatorB, "DemoAnimatorB");
    }

    void ChangeAnimator(RuntimeAnimatorController newController, string controllerName)
    {
        if (animator.runtimeAnimatorController != newController)
        {
            animator.runtimeAnimatorController = newController;
            Debug.Log("Switched to Animator: " + controllerName);
        }
    }
}
